<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√°c nh·∫≠n chuy·∫øn ƒëi - RadioCar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-taxi text-2xl"></i>
                    <h1 class="text-2xl font-bold">RadioCar Taxi</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="backToBooking" class="bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>Quay l·∫°i ƒë·∫∑t xe
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6 max-w-5xl">
        <!-- Invoice Container -->
        <div class="bg-white rounded-lg shadow-2xl border-2 border-gray-200 overflow-hidden">
            
            <!-- Invoice Header -->
            <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8">
                <div class="flex justify-between items-start">
                    <div>
                        <div class="flex items-center space-x-3 mb-2">
                            <i class="fas fa-taxi text-4xl"></i>
                            <div>
                                <h1 class="text-3xl font-bold">RadioCar Taxi</h1>
                                <p class="text-blue-100 text-sm">D·ªãch v·ª• taxi chuy√™n nghi·ªáp</p>
                            </div>
                        </div>
                        <div class="text-sm text-blue-100 mt-4 space-y-1">
                            <p><i class="fas fa-map-marker-alt mr-2"></i>123 Ph·ªë Hu·∫ø, Hai B√† Tr∆∞ng, H√† N·ªôi</p>
                            <p><i class="fas fa-phone mr-2"></i>Hotline: 1900-1234</p>
                            <p><i class="fas fa-envelope mr-2"></i>support@radiocar.com</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="bg-white text-blue-600 px-6 py-3 rounded-lg shadow-lg">
                            <p class="text-xs font-semibold mb-1">H√ìA ƒê∆†N CHUY·∫æN ƒêI</p>
                            <p id="invoiceNumber" class="text-2xl font-bold">#INV-0001</p>
                        </div>
                        <div class="mt-4 text-sm text-blue-100">
                            <p><i class="fas fa-calendar mr-2"></i><span id="invoiceDate">--</span></p>
                            <p><i class="fas fa-clock mr-2"></i><span id="invoiceTime">--</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Invoice Body -->
            <div class="p-8">
                
                <!-- Map Section - At Top -->
                <div class="mb-8 pb-8 border-b-2 border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <i class="fas fa-map-marked-alt text-green-600 mr-3 text-3xl"></i>
                        B·∫£n ƒë·ªì v√† l·ªô tr√¨nh chi ti·∫øt
                    </h2>
                    
                    <!-- Map Legend -->
                    <div class="mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200">
                        <div class="flex flex-wrap items-center justify-center gap-6 text-sm">
                            <div class="flex items-center space-x-2">
                                <div class="w-6 h-1 bg-blue-500 rounded"></div>
                                <span class="font-semibold text-gray-700">Tuy·∫øn ƒë∆∞·ªùng ch√≠nh</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-6 h-1 bg-red-600 rounded"></div>
                                <span class="font-semibold text-red-700">‚ö†Ô∏è ƒêo·∫°n t·∫Øc ƒë∆∞·ªùng</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-6 h-1 bg-orange-500 rounded"></div>
                                <span class="font-semibold text-orange-700">ƒêo·∫°n ch·∫≠m</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-6 h-1 bg-green-500 rounded"></div>
                                <span class="font-semibold text-green-700">Th√¥ng tho√°ng</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Map Container -->
                    <div class="relative">
                        <div id="confirmationMap" class="w-full h-[600px] rounded-xl border-2 border-gray-300 shadow-2xl"></div>
                        
                        <!-- Traffic Info Overlay -->
                        <div id="trafficInfoOverlay" class="hidden absolute top-4 left-4 bg-white/95 backdrop-blur-md rounded-xl shadow-2xl border-2 border-red-500 p-5 max-w-sm z-[1000]">
                            <h4 class="font-bold text-gray-800 mb-3 text-lg flex items-center">
                                <i class="fas fa-traffic-light text-red-600 mr-2 text-xl"></i>
                                Th√¥ng tin giao th√¥ng
                            </h4>
                            <div id="trafficInfoContent" class="text-sm space-y-2">
                                <!-- Dynamic traffic info will be inserted here -->
                            </div>
                        </div>
                        
                        <!-- Route Quality Indicator -->
                        <div id="routeQuality" class="absolute bottom-4 right-4 bg-white/95 backdrop-blur-md rounded-lg shadow-lg border-2 border-blue-300 p-4 z-[1000]">
                            <div class="text-center">
                                <p class="text-xs text-gray-600 font-semibold mb-2">Ch·∫•t l∆∞·ª£ng tuy·∫øn ƒë∆∞·ªùng</p>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                        <div id="routeQualityBar" class="h-full bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 transition-all" style="width: 0%"></div>
                                    </div>
                                    <span id="routeQualityText" class="text-sm font-bold text-gray-800">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex items-center space-x-2 text-sm text-gray-600">
                            <i class="fas fa-info-circle text-blue-600"></i>
                            <span>B·∫£n ƒë·ªì hi·ªÉn th·ªã t√¨nh tr·∫°ng giao th√¥ng th·ªùi gian th·ª±c</span>
                        </div>
                        <span id="routeType" class="text-xs bg-green-100 text-green-800 px-3 py-1 rounded-full font-semibold hidden">
                            <i class="fas fa-route mr-1"></i>ƒê∆∞·ªùng th·ª±c t·∫ø t·ª´ OSRM
                        </span>
                    </div>
                </div>
                
                <!-- Customer Information Section -->
                <div class="mb-8 pb-6 border-b-2 border-gray-200">
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-user-circle text-blue-600 mr-3 text-2xl"></i>
                        Th√¥ng tin kh√°ch h√†ng
                    </h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-600 mb-2">H·ªç v√† t√™n *</label>
                            <input type="text" id="customerName" 
                                   class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                   placeholder="Nh·∫≠p h·ªç v√† t√™n">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-600 mb-2">S·ªë ƒëi·ªán tho·∫°i *</label>
                            <input type="tel" id="customerPhone" 
                                   class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                   placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
                        </div>
                    </div>
                </div>

                <!-- Trip Details Section -->
                <div class="mb-8 pb-8 border-b-2 border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <i class="fas fa-route text-green-600 mr-3 text-3xl"></i>
                        Chi ti·∫øt chuy·∫øn ƒëi
                    </h2>
                    
                    <!-- Pickup and Dropoff Locations - Enhanced Size -->
                    <div class="bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 p-8 rounded-xl mb-6 shadow-lg border-2 border-blue-200">
                        <div class="space-y-6">
                            <!-- Pickup Location -->
                            <div class="flex items-start space-x-5 bg-white p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                                <div class="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-full w-16 h-16 flex items-center justify-center font-bold flex-shrink-0 shadow-lg text-2xl">
                                    A
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-bold text-green-700 mb-2 uppercase tracking-wide">üìç ƒêi·ªÉm ƒë√≥n kh√°ch</p>
                                    <p id="pickupLocationDisplay" class="text-xl font-bold text-gray-800 leading-relaxed">--</p>
                                    <p class="text-sm text-gray-500 mt-2" id="pickupCoords">T·ªça ƒë·ªô: --</p>
                        </div>
                            </div>
                            
                            <!-- Journey Arrow -->
                            <div class="flex items-center justify-center">
                                <div class="flex flex-col items-center">
                                    <div class="border-l-4 border-dashed border-blue-400 h-12"></div>
                                    <div class="bg-blue-500 text-white rounded-full p-3 shadow-lg">
                                        <i class="fas fa-arrow-down text-xl"></i>
                                    </div>
                                    <div class="border-l-4 border-dashed border-blue-400 h-12"></div>
                                </div>
                            </div>
                            
                            <!-- Dropoff Location -->
                            <div class="flex items-start space-x-5 bg-white p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                                <div class="bg-gradient-to-br from-red-500 to-red-600 text-white rounded-full w-16 h-16 flex items-center justify-center font-bold flex-shrink-0 shadow-lg text-2xl">
                                    B
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-bold text-red-700 mb-2 uppercase tracking-wide">üö© ƒêi·ªÉm ƒë·∫øn</p>
                                    <p id="dropoffLocationDisplay" class="text-xl font-bold text-gray-800 leading-relaxed">--</p>
                                    <p class="text-sm text-gray-500 mt-2" id="dropoffCoords">T·ªça ƒë·ªô: --</p>
                            </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Trip Statistics - Large Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-4">
                                <i class="fas fa-route text-4xl opacity-80"></i>
                                <div class="bg-white/20 px-4 py-2 rounded-full">
                                    <span class="text-sm font-semibold">km</span>
                                </div>
                            </div>
                            <p class="text-sm font-semibold opacity-90 mb-2">Kho·∫£ng c√°ch</p>
                            <p id="distance" class="text-4xl font-bold">-- km</p>
                            <p class="text-xs mt-2 opacity-75" id="distanceNote">ƒê∆∞·ªùng ƒëi t·ªëi ∆∞u</p>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-4">
                                <i class="fas fa-clock text-4xl opacity-80"></i>
                                <div class="bg-white/20 px-4 py-2 rounded-full">
                                    <span class="text-sm font-semibold">ph√∫t</span>
                                </div>
                            </div>
                            <p class="text-sm font-semibold opacity-90 mb-2">Th·ªùi gian d·ª± ki·∫øn</p>
                            <p id="duration" class="text-4xl font-bold">-- ph√∫t</p>
                            <p class="text-xs mt-2 opacity-75" id="durationNote">Ch∆∞a t√≠nh t·∫Øc ƒë∆∞·ªùng</p>
                        </div>
                        
                        <div class="bg-gradient-to-br from-yellow-500 to-orange-500 text-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-4">
                                <i class="fas fa-tachometer-alt text-4xl opacity-80"></i>
                                <div class="bg-white/20 px-4 py-2 rounded-full">
                                    <span class="text-sm font-semibold">km/h</span>
                                </div>
                            </div>
                            <p class="text-sm font-semibold opacity-90 mb-2">T·ªëc ƒë·ªô trung b√¨nh</p>
                            <p id="avgSpeed" class="text-4xl font-bold">-- km/h</p>
                            <p class="text-xs mt-2 opacity-75" id="speedNote">T·ªëc ƒë·ªô ∆∞·ªõc t√≠nh</p>
                        </div>
                    </div>

                    <!-- Current Conditions - Enhanced -->
                    <div id="conditionsAlert" class="mb-6 p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl border-2 border-blue-300 shadow-lg">
                        <div class="flex items-center space-x-3 mb-5">
                            <div class="bg-blue-600 p-3 rounded-full shadow-md">
                                <i class="fas fa-info-circle text-white text-2xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">ƒêi·ªÅu ki·ªán hi·ªán t·∫°i</h3>
                                <p class="text-sm text-gray-600">Th√¥ng tin th·ªùi gian th·ª±c</p>
                            </div>
                        </div>
                        <div id="conditionsInfo" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <!-- Rush Hour Status -->
                            <div class="bg-white p-5 rounded-xl shadow-md hover:shadow-xl transition-shadow border border-gray-100">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span id="rushHourIcon" class="text-4xl">‚è∞</span>
                                    <div class="flex-1">
                                        <p class="text-xs text-gray-500 font-semibold uppercase tracking-wide">Gi·ªù cao ƒëi·ªÉm</p>
                                        <p id="rushHourStatus" class="text-base font-bold text-gray-700 mt-1">ƒêang ki·ªÉm tra...</p>
                                    </div>
                                </div>
                                <div class="h-1 bg-gray-200 rounded-full overflow-hidden">
                                    <div id="rushHourBar" class="h-full bg-gradient-to-r from-green-500 to-red-500 transition-all" style="width: 0%"></div>
                                </div>
                            </div>
                            
                            <!-- Traffic Status -->
                            <div class="bg-white p-5 rounded-xl shadow-md hover:shadow-xl transition-shadow border border-gray-100">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span id="trafficIcon" class="text-4xl">üö¶</span>
                                    <div class="flex-1">
                                        <p class="text-xs text-gray-500 font-semibold uppercase tracking-wide">Giao th√¥ng</p>
                                        <p id="trafficStatus" class="text-base font-bold text-gray-700 mt-1">ƒêang ki·ªÉm tra...</p>
                                    </div>
                                </div>
                                <div class="h-1 bg-gray-200 rounded-full overflow-hidden">
                                    <div id="trafficBar" class="h-full bg-gradient-to-r from-green-500 to-red-500 transition-all" style="width: 0%"></div>
                                </div>
                            </div>
                            
                            <!-- Weather Status -->
                            <div class="bg-white p-5 rounded-xl shadow-md hover:shadow-xl transition-shadow border border-gray-100">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span id="weatherIcon" class="text-4xl">üå§Ô∏è</span>
                                    <div class="flex-1">
                                        <p class="text-xs text-gray-500 font-semibold uppercase tracking-wide">Th·ªùi ti·∫øt</p>
                                        <p id="weatherStatus" class="text-base font-bold text-gray-700 mt-1">ƒêang ki·ªÉm tra...</p>
                                    </div>
                                </div>
                                <p id="weatherDetails" class="text-xs text-gray-500 mt-2">Nhi·ªát ƒë·ªô: --¬∞C | ƒê·ªô ·∫©m: --%</p>
                            </div>
                            
                            <!-- Location Status -->
                            <div class="bg-white p-5 rounded-xl shadow-md hover:shadow-xl transition-shadow border border-gray-100">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span id="locationIcon" class="text-4xl">üìç</span>
                                    <div class="flex-1">
                                        <p class="text-xs text-gray-500 font-semibold uppercase tracking-wide">Khu v·ª±c</p>
                                        <p id="locationStatus" class="text-base font-bold text-gray-700 mt-1">ƒêang ki·ªÉm tra...</p>
                                    </div>
                                </div>
                                <p id="locationDetails" class="text-xs text-gray-500 mt-2">V·ªã tr√≠: --</p>
                            </div>
                        </div>
                    </div>

                    <!-- Traffic Congestion Warning - Enhanced -->
                    <div id="trafficCongestionDetails" class="hidden mb-6">
                        <div class="bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-400 rounded-xl p-6 shadow-lg">
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="bg-red-600 p-3 rounded-full shadow-md animate-pulse">
                                    <i class="fas fa-exclamation-triangle text-white text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-red-800">C·∫£nh b√°o t·∫Øc ƒë∆∞·ªùng</h3>
                                    <p class="text-sm text-red-600">Ph√°t hi·ªán ƒëo·∫°n ƒë∆∞·ªùng c√≥ t√¨nh tr·∫°ng t·∫Øc ngh·∫Ωn</p>
                                </div>
                            </div>
                        <div id="congestionInfo" class="space-y-3">
                            <!-- Dynamic congestion info will be inserted here -->
                            </div>
                        </div>
                    </div>

                    <!-- Additional Trip Information -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-purple-50 border-2 border-purple-200 rounded-lg p-4 text-center">
                            <i class="fas fa-map-signs text-purple-600 text-3xl mb-2"></i>
                            <p class="text-xs text-gray-600 font-semibold mb-1">Lo·∫°i ƒë∆∞·ªùng</p>
                            <p id="roadType" class="text-sm font-bold text-gray-800">ƒê∆∞·ªùng th√†nh ph·ªë</p>
                        </div>
                        <div class="bg-teal-50 border-2 border-teal-200 rounded-lg p-4 text-center">
                            <i class="fas fa-gas-pump text-teal-600 text-3xl mb-2"></i>
                            <p class="text-xs text-gray-600 font-semibold mb-1">∆Ø·ªõc t√≠nh nhi√™n li·ªáu</p>
                            <p id="fuelEstimate" class="text-sm font-bold text-gray-800">-- l√≠t</p>
                        </div>
                        <div class="bg-pink-50 border-2 border-pink-200 rounded-lg p-4 text-center">
                            <i class="fas fa-leaf text-pink-600 text-3xl mb-2"></i>
                            <p class="text-xs text-gray-600 font-semibold mb-1">CO‚ÇÇ ph√°t th·∫£i</p>
                            <p id="co2Estimate" class="text-sm font-bold text-gray-800">-- kg</p>
                        </div>
                    </div>
                </div>

                <!-- Pricing Breakdown Section -->
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                        <i class="fas fa-receipt text-yellow-600 mr-3 text-2xl"></i>
                        Chi ti·∫øt gi√° c∆∞·ªõc
                    </h2>

                    <!-- Pricing Table -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b-2 border-gray-300">
                                    <th class="text-left py-3 text-sm font-bold text-gray-700">H·∫†NG M·ª§C</th>
                                    <th class="text-center py-3 text-sm font-bold text-gray-700">S·ªê L∆Ø·ª¢NG</th>
                                    <th class="text-right py-3 text-sm font-bold text-gray-700">ƒê∆†N GI√Å</th>
                                    <th class="text-right py-3 text-sm font-bold text-gray-700">TH√ÄNH TI·ªÄN</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr class="border-b border-gray-200">
                                    <td class="py-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-car text-blue-600"></i>
                                            <span class="font-semibold">Ph√≠ kh·ªüi ƒë·∫ßu</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-4">1</td>
                                    <td class="text-right py-4" id="baseFeeAmount">15,000 VNƒê</td>
                                    <td class="text-right py-4 font-bold" id="baseFeeTotal">15,000 VNƒê</td>
                                </tr>
                                <tr class="border-b border-gray-200">
                                    <td class="py-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-route text-green-600"></i>
                                            <span class="font-semibold">C∆∞·ªõc theo km</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-4"><span id="distanceQty">-- km</span></td>
                                    <td class="text-right py-4">15,000 VNƒê/km</td>
                                    <td class="text-right py-4 font-bold" id="distanceFeeTotal">-- VNƒê</td>
                                </tr>
                                <tr class="border-b border-gray-200">
                                    <td class="py-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-clock text-orange-600"></i>
                                            <span class="font-semibold">Th·ªùi gian ch·ªù</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-4"><span id="waitTimeQty">0 ph√∫t</span></td>
                                    <td class="text-right py-4">5,000 VNƒê/ph√∫t</td>
                                    <td class="text-right py-4 font-bold" id="waitTimeFeeTotal">0 VNƒê</td>
                                </tr>
                                <tr id="rushHourFeeRow" class="border-b border-gray-200 hidden">
                                    <td class="py-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-exclamation-circle text-orange-600"></i>
                                            <span class="font-semibold">Ph·ª• ph√≠ gi·ªù cao ƒëi·ªÉm</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-4">8%</td>
                                    <td class="text-right py-4">--</td>
                                    <td class="text-right py-4 font-bold text-orange-600" id="rushHourFeeTotal">-- VNƒê</td>
                                </tr>
                                <tr id="weatherFeeRow" class="border-b border-gray-200 hidden">
                                    <td class="py-4">
                                        <div class="flex items-center space-x-2">
                                            <i class="fas fa-cloud-rain text-blue-600"></i>
                                            <span class="font-semibold">Ph·ª• ph√≠ th·ªùi ti·∫øt x·∫•u</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-4">5%</td>
                                    <td class="text-right py-4">--</td>
                                    <td class="text-right py-4 font-bold text-blue-600" id="weatherFeeTotal">-- VNƒê</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="border-t-2 border-gray-400">
                                    <td colspan="3" class="py-4 text-right font-bold text-gray-700">T·ªîNG PH·ª§:</td>
                                    <td class="py-4 text-right font-bold text-lg" id="subtotalAmount">-- VNƒê</td>
                                </tr>
                                <tr class="border-b border-gray-200">
                                    <td colspan="3" class="py-3 text-right text-gray-600">VAT (8%):</td>
                                    <td class="py-3 text-right font-semibold" id="vatAmount">-- VNƒê</td>
                                </tr>
                                <tr class="bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-400">
                                    <td colspan="3" class="py-5 text-right font-bold text-xl text-gray-800">
                                        <i class="fas fa-dollar-sign text-yellow-600 mr-2"></i>
                                        T·ªîNG C·ªòNG:
                                    </td>
                                    <td class="py-5 text-right font-bold text-2xl text-blue-600" id="totalAmount">-- VNƒê</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>

                <!-- Notes Section -->
                <div class="mb-8">
                    <label class="block text-sm font-bold text-gray-700 mb-3">
                        <i class="fas fa-sticky-note text-yellow-600 mr-2"></i>
                        Ghi ch√∫ cho t√†i x·∫ø (t√πy ch·ªçn)
                    </label>
                    <textarea id="notes" rows="3" 
                              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              placeholder="V√≠ d·ª•: G·ªçi tr∆∞·ªõc 5 ph√∫t, ƒë√≥n t·∫°i c·ªïng sau, mang theo h√†nh l√Ω..."></textarea>
                    </div>

                <!-- Payment Method -->
                <div class="mb-8 pb-6 border-b-2 border-gray-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-credit-card text-purple-600 mr-2 text-xl"></i>
                        H√¨nh th·ª©c thanh to√°n
                        </h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <label class="payment-method cursor-pointer">
                            <input type="radio" name="paymentMethod" value="cash" class="hidden" checked>
                            <div class="border-2 border-gray-300 rounded-lg p-4 text-center hover:border-blue-500 transition-all payment-option">
                                <i class="fas fa-money-bill-wave text-3xl text-green-600 mb-2"></i>
                                <p class="text-sm font-semibold">Ti·ªÅn m·∫∑t</p>
                            </div>
                        </label>
                        <label class="payment-method cursor-pointer">
                            <input type="radio" name="paymentMethod" value="card" class="hidden">
                            <div class="border-2 border-gray-300 rounded-lg p-4 text-center hover:border-blue-500 transition-all payment-option">
                                <i class="fas fa-credit-card text-3xl text-blue-600 mb-2"></i>
                                <p class="text-sm font-semibold">Th·∫ª ng√¢n h√†ng</p>
                            </div>
                        </label>
                        <label class="payment-method cursor-pointer">
                            <input type="radio" name="paymentMethod" value="momo" class="hidden">
                            <div class="border-2 border-gray-300 rounded-lg p-4 text-center hover:border-blue-500 transition-all payment-option">
                                <i class="fas fa-wallet text-3xl text-pink-600 mb-2"></i>
                                <p class="text-sm font-semibold">MoMo</p>
                            </div>
                        </label>
                        <label class="payment-method cursor-pointer">
                            <input type="radio" name="paymentMethod" value="banking" class="hidden">
                            <div class="border-2 border-gray-300 rounded-lg p-4 text-center hover:border-blue-500 transition-all payment-option">
                                <i class="fas fa-university text-3xl text-indigo-600 mb-2"></i>
                                <p class="text-sm font-semibold">Banking</p>
                        </div>
                        </label>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="bg-gray-50 border-l-4 border-blue-600 p-5 mb-8">
                    <h4 class="font-bold text-gray-800 mb-3 flex items-center">
                        <i class="fas fa-file-contract text-blue-600 mr-2"></i>
                        ƒêi·ªÅu kho·∫£n v√† ƒëi·ªÅu ki·ªán
                    </h4>
                    <ul class="text-xs text-gray-600 space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Gi√° c∆∞·ªõc tr√™n ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o, gi√° th·ª±c t·∫ø t√≠nh theo ƒë·ªìng h·ªì tr√™n xe.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Kh√°ch h√†ng c√≥ quy·ªÅn h·ªßy chuy·∫øn trong v√≤ng 3 ph√∫t sau khi ƒë·∫∑t m√† kh√¥ng m·∫•t ph√≠.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Th·ªùi gian ch·ªù mi·ªÖn ph√≠: 5 ph√∫t. Sau ƒë√≥ t√≠nh 5,000ƒë/ph√∫t.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Ph·ª• ph√≠ t·ªëi ƒëa: Gi·ªù cao ƒëi·ªÉm (8%), Th·ªùi ti·∫øt x·∫•u (5-8%), T·∫Øc ƒë∆∞·ªùng (3-9%).</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Ph√≠ tr·∫°m thu ph√≠ KH√îNG bao g·ªìm trong gi√° c∆∞·ªõc, kh√°ch t·ª± thanh to√°n tr·ª±c ti·∫øp t·∫°i tr·∫°m.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-600 mr-2 mt-0.5"></i>
                            <span>Vui l√≤ng gi·ªØ h√≥a ƒë∆°n n√†y ƒë·ªÉ ƒë·ªëi chi·∫øu khi c√≥ th·∫Øc m·∫Øc.</span>
                        </li>
                    </ul>
                    </div>

                <!-- Action Buttons -->
                <div class="flex flex-col md:flex-row gap-4">
                        <button id="confirmBooking" 
                            class="flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-5 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-xl flex items-center justify-center space-x-3">
                        <i class="fas fa-check-circle text-2xl"></i>
                        <span>X√°c nh·∫≠n ƒë·∫∑t xe</span>
                    </button>
                    <button id="printInvoice" 
                            class="md:w-auto bg-gray-600 hover:bg-gray-700 text-white font-bold py-5 px-6 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2">
                        <i class="fas fa-print text-xl"></i>
                        <span>In h√≥a ƒë∆°n</span>
                        </button>
                </div>
            </div>

            <!-- Invoice Footer -->
            <div class="bg-gray-100 border-t-2 border-gray-300 p-6 text-center">
                <p class="text-sm text-gray-600 mb-2">
                    <i class="fas fa-heart text-red-500 mr-1"></i>
                    C·∫£m ∆°n qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• RadioCar Taxi!
                </p>
                <p class="text-xs text-gray-500">
                    M·ªçi th·∫Øc m·∫Øc xin li√™n h·ªá: 1900-1234 ho·∫∑c support@radiocar.com
                </p>
                <p class="text-xs text-gray-400 mt-2">
                    <i class="fas fa-lock mr-1"></i>
                    H√≥a ƒë∆°n n√†y ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông v√† c√≥ gi√° tr·ªã khi ƒë∆∞·ª£c x√°c nh·∫≠n
                </p>
            </div>
        </div>

    </main>

    <!-- Notification Container -->
    <div id="notificationContainer" class="fixed top-4 right-4 z-50"></div>

    <script src="confirmation.js"></script>
</body>
</html>
